(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-user-video-user-video"],{2142:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{item:Object,index:[String,Number]},filters:{timeStamp:function(t){if(!t)return"";var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1;n<10&&(n="0"+n);var a=e.getDate();return a<10&&(a="0"+a),i+"-"+n+"-"+a}},methods:{open:function(){uni.navigateTo({url:"/pages/detail-video/detail-video?id="+this.item.id}),uni.setStorage({key:"history"})}},mounted:function(){}};e.default=n},3747:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t._l(t.list,(function(e,n){return i("v-uni-view",{key:n},[i("media-list",{attrs:{item:e,index:n}}),i("v-uni-view",{staticClass:"flex",staticStyle:{height:"100rpx"}},[i("v-uni-view",{staticClass:"flex-1 flex align-center justify-center",attrs:{"hover-class":"bg-light"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.edit(e)}}},[t._v("修改作品")]),i("v-uni-view",{staticClass:"flex-1 flex align-center justify-center",attrs:{"hover-class":"bg-light"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openVideoList(e)}}},[t._v("管理视频")]),i("v-uni-view",{staticClass:"flex-1 flex align-center justify-center",attrs:{"hover-class":"bg-light"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.destory(e)}}},[t._v("删除作品")])],1),i("v-uni-view",{staticClass:"f-divider"})],1)})),0===t.list.length?i("v-uni-view",{staticClass:"flex align-center justify-center text-secondary",staticStyle:{height:"200rpx"}},[t._v("暂无数据")]):t.list.length>10?i("v-uni-view",{staticClass:"flex align-center justify-center font-md text-secondary",staticStyle:{height:"80rpx"},attrs:{"hover-class":"bg-light"}},[t._v(t._s(t.loadText))]):t._e()],2)},s=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}))},"4b7c":function(t,e,i){"use strict";i.r(e);var n=i("2142"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"580c":function(t,e,i){"use strict";(function(t){var n=i("ee27");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("d0ff")),s=n(i("f3f3")),u=n(i("fd9d")),o=i("2f62"),c={components:{mediaList:u.default},data:function(){return{list:[],page:1,loadText:"上拉加载更多"}},onShow:function(){this.getData()},computed:(0,s.default)({},(0,o.mapState)({user_id:function(t){return t.user?t.user.id:0}})),onPullDownRefresh:function(){this.page=1,this.getData().then((function(t){uni.showToast({title:"刷新成功",icon:"none"}),uni.stopPullDownRefresh()})).catch((function(t){uni.showToast({title:"刷新失败",icon:"none"}),uni.stopPullDownRefresh()}))},onReachBottom:function(){"上拉加载更多"===this.loadText&&(this.loadText="加载中",this.page=this.page+1,this.getData())},methods:{openVideoList:function(t){uni.navigateTo({url:"./user-video-list/user-video-list?id="+t.id})},getData:function(){var t=this,e=this.page;return this.$H.get("/video_list/".concat(this.page,"?user_id=").concat(this.user_id,"&limit=10")).then((function(i){t.list=1===e?i:[].concat((0,a.default)(t.list),(0,a.default)(i)),t.loadText=i.length<10?"到底了╮(╯▽╰)╭":"上拉加载更多"})).catch((function(e){t.page>1&&t.page--,t.loadText="上拉加载更多"}))},edit:function(t){uni.navigateTo({url:"../create/create?data="+encodeURIComponent(JSON.stringify(t))})},destory:function(e){this.$H.post("/video/destory/"+e.id,{token:!0}).then((function(e){t.log(e)})).catch((function(e){t.log(e)}))}}};e.default=c}).call(this,i("5a52")["default"])},d638:function(t,e,i){"use strict";i.r(e);var n=i("3747"),a=i("fcd2");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var u,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"5ebbde23",null,!1,n["a"],u);e["default"]=c.exports},fbd5:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:" flex align-center py-2 border-bottom ",staticStyle:{width:"100%"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"rounded-lg mx-2 flex-shrink",staticStyle:{width:"260rpx",height:"160rpx"},attrs:{mode:"aspectFill",src:t.item.cover}}),i("v-uni-view",{staticClass:"flex-1 flex flex-column mr-1"},[i("v-uni-text",{staticClass:"font",staticStyle:{"line-height":"1.2"}},[t._v(t._s(t.item.title))]),i("v-uni-text",{staticClass:"font-sm text-light-muted mt-auto"},[t._v(t._s(t._f("timeStamp")(t.item.created_time)))]),i("v-uni-view",{staticClass:"flex align-center justify-between text-muted line-h"},[i("v-uni-view",{staticClass:"line-h"},[i("v-uni-text",{staticClass:"iconfont iconbofangshu font-md mx-1"}),i("v-uni-text",{staticClass:"font-sm"},[t._v(t._s(t.item.play_count))])],1),i("v-uni-view",{staticClass:"line-h"},[i("v-uni-text",{staticClass:"iconfont icondanmushu font-md mx-1"}),i("v-uni-text",{staticClass:"font-sm"},[t._v(t._s(t.item.danmu_count))])],1),i("v-uni-text",{staticClass:"iconfont icongengduo"})],1)],1)],1)},s=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}))},fcd2:function(t,e,i){"use strict";i.r(e);var n=i("580c"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},fd9d:function(t,e,i){"use strict";i.r(e);var n=i("fbd5"),a=i("4b7c");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var u,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"29fb220e",null,!1,n["a"],u);e["default"]=c.exports}}]);